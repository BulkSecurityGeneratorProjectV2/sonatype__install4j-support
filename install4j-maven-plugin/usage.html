<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7 at 2020-03-16 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20200316" />
    <meta http-equiv="Content-Language" content="en" />
    <title>org.sonatype.install4j:install4j-maven-plugin &#x2013; Usage</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarEnabled">
          
                        
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                                  <div class="container"><div class="nav-collapse">
            
                
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="About">About</a>
</li>
                  
                      <li>      <a href="usage.html"  title="Usage">Usage</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="integration.html"  title="CI Management">CI Management</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="dependency-management.html"  title="Dependency Management">Dependency Management</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Management">Issue Management</a>
</li>
                                  <li>      <a href="license.html"  title="Licenses">Licenses</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="plugins.html"  title="Plugins">Plugins</a>
</li>
                                  <li>      <a href="team-list.html"  title="Team">Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Code Management">Source Code Management</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Summary">Summary</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="apidocs/index.html"  title="Javadoc">Javadoc</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test Javadoc">Test Javadoc</a>
</li>
                                  <li>      <a href="pmd.html"  title="PMD">PMD</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="findbugs.html"  title="FindBugs">FindBugs</a>
</li>
                                  <li>      <a href="cobertura/index.html"  title="Cobertura Test Coverage">Cobertura Test Coverage</a>
</li>
                                  <li>      <a href="plugin-info.html"  title="Plugin Documentation">Plugin Documentation</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                  </ul>
          
          
                                                                            
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://sonatype.com" id="bannerLeft">
                                                                                        <img src="http://sonatype.github.com/install4j-support/images/sonatype.jpg"  alt="sonatype"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://www.ej-technologies.com/products/install4j/overview.html" id="bannerRight">
                                                                                        <img src="http://sonatype.github.com/install4j-support/images/install4j.png"  alt="install4j"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                              <li class="">
                    <a href="../index.html" title="org.sonatype.install4j:install4j-maven-plugin">
        org.sonatype.install4j:install4j-maven-plugin</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="index.html" title="org.sonatype.install4j:install4j-maven-plugin">
        org.sonatype.install4j:install4j-maven-plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Usage</li>
        
              
                <li id="projectVersion" class="pull-right">Version: 1.1.2</li>
      
                            </ul>
      </div>

      
                
        <div id="bodyColumn" >
                                  
            <!--

    Copyright (c) 2012-present Sonatype, Inc. All rights reserved.

    This program is licensed to you under the Apache License Version 2.0,
    and you may not use this file except in compliance with the Apache License Version 2.0.
    You may obtain a copy of the Apache License Version 2.0 at http://www.apache.org/licenses/LICENSE-2.0.

    Unless required by applicable law or agreed to in writing,
    software distributed under the Apache License Version 2.0 is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the Apache License Version 2.0 for the specific language governing permissions and limitations there under.

--><h1>Usage</h1>
<div class="section">
<h2><a name="References"></a>References</h2>

<ul>
  
<li><a href="plugin-info.html">Plugin Documentation</a></li>
</ul></div>
<div class="section">
<h2><a name="Requirements"></a>Requirements</h2>
<p>A local install4j installation is requied for this plugin to execute properly.</p>
<p>This plugin requires at least install4j version 5.1.2. This pluign will attempt to detect the version and may fail if the installed version is not compatible.</p>
<p>The recommended method is to install the tool and then configure via <i>settings.xml</i> the location where it was installed.</p>
<p>Update <i>settings.xml</i> with properties to configure the location where install4j has been pre-installed:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;development&lt;/id&gt;
        &lt;properties&gt;
            &lt;install4j.home&gt;CHANGEME&lt;/install4j.home&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;

&lt;activeProfiles&gt;
    &lt;activeProfile&gt;development&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;
</pre></div></div>
<p>Replace <b>CHANGEME</b> with the location where install4j has been installed on the current system.</p></div>
<div class="section">
<h2><a name="Project_Configuration"></a>Project Configuration</h2>
<p>Configure the <i>compile</i> goal to execute:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;
            &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;compile-installers&lt;/id&gt;
                    &lt;phase&gt;package&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;compile&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;projectFile&gt;${project.basedir}/src/main/installer/myproject.install4j&lt;/projectFile&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</pre></div></div>
<p>Replace <b>${project.basedir}/src/main/installer/myproject.install4j</b> with the install4j project file to compile.</p>
<p>If <i>install4j.home</i> is not configured or is configured to an invalid or corrupted location, the plugin execution will skip.</p></div>
<div class="section">
<h2><a name="JVM_Arguments"></a>JVM Arguments</h2>
<p>Additional JVM arguments can be set on the <i>install4jc</i> process. This can be useful to customize system properties to control the compilers behavior.</p>
<p>This example increases the default connect and read timeouts:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;
            &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;compile-installers&lt;/id&gt;
                    &lt;phase&gt;package&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;compile&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;projectFile&gt;${project.basedir}/src/main/installer/myproject.install4j&lt;/projectFile&gt;
                        &lt;jvmArguments&gt;
                            &lt;arg&gt;-Dinstall4j.connectTimeout=20000&lt;/arg&gt;
                            &lt;arg&gt;-Dinstall4j.readTimeout=20000&lt;/arg&gt;
                        &lt;/jvmArguments&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</pre></div></div></div>
<div class="section">
<h2><a name="Media_Signing"></a>Media Signing</h2>
<p>Media signing generally requires passwords for keystore files. This plugin can configure install4j with the appropriate keystore passwords for media file signing.</p>
<p>The keystore file location must be configured via the install4j IDE.</p>
<p>Update keystore passwords in <i>settings.xml</i>:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;development&lt;/id&gt;
        &lt;properties&gt;
            &lt;install4j.winKeystorePassword&gt;CHANGEME&lt;/install4j.winKeystorePassword&gt;
            &lt;install4j.macKeystorePassword&gt;CHANGEME&lt;/install4j.macKeystorePassword&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;

&lt;activeProfiles&gt;
    &lt;activeProfile&gt;development&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;
</pre></div></div>
<p>Replacing <b>CHANGEME</b> with the appropriate keystore passwords.</p></div>
<div class="section">
<h2><a name="Installing_License_Key"></a>Installing License Key</h2>
<p>Automated builds will need a valid license key configured for install4j to function properly.</p>
<p>You can configure the Maven build to automatically configure the license key with the <i>install-license</i> goal. This goal needs to execute before any other install4j-maven-plugin goal.</p>
<p>It is recommended to configure this via <i>settings.xml</i> and <b>NOT</b> configure this value directly in your <i>pom.xml</i>.</p>
<p>Update license key in <i>settings.xml</i>:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;development&lt;/id&gt;
        &lt;properties&gt;
            &lt;install4j.licenseKey&gt;CHANGEME&lt;/install4j.licenseKey&gt;
        &lt;/properties&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;

&lt;activeProfiles&gt;
    &lt;activeProfile&gt;development&lt;/activeProfile&gt;
&lt;/activeProfiles&gt;
</pre></div></div>
<p>Replace <b>CHANGEME</b> with the appropriate license key.</p>
<p>Configure the <i>install-license</i> goal to exectute:</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;
            &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;install-license&lt;/id&gt;
                    &lt;phase&gt;package&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;install-license&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</pre></div></div></div>
<div class="section">
<h2><a name="Attaching_Media"></a>Attaching Media</h2>
<p>The install4j compiled media files can be attached to the current Maven project when the <i>attach</i> parameter is configured.</p>
<p>When media is attached, the compiled files will be installed into the local repository and will also be deployed. The media files will be attached to the current project with the <i>id</i> of media as the <i>classifier</i>.</p>
<p>Configure <i>custom ids</i> for each media type to configure the <i>classifier</i>.</p>

<div class="source">
<div class="source"><pre class="prettyprint">&lt;build&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.sonatype.install4j&lt;/groupId&gt;
            &lt;artifactId&gt;install4j-maven-plugin&lt;/artifactId&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;compile-installers&lt;/id&gt;
                    &lt;phase&gt;package&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;compile&lt;/goal&gt;
                    &lt;/goals&gt;
                    &lt;configuration&gt;
                        &lt;projectFile&gt;${project.basedir}/src/main/installer/myproject.install4j&lt;/projectFile&gt;
                        &lt;attach&gt;true&lt;/attach&gt;
                    &lt;/configuration&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</pre></div></div>
<p>Replace <b>${project.basedir}/src/main/installer/myproject.install4j</b> with the install4j project file to compile.</p></div>
<div class="section">
<h2><a name="Skipping_Compilation"></a>Skipping Compilation</h2>
<p>Compilation can be skipped by setting the <i>install4j.skip</i> property:</p>

<div class="source">
<div class="source"><pre class="prettyprint">mvn -Dinstall4j.skip
</pre></div></div></div>
                  </div>
          </div>

    <hr/>

    <footer>
            <div class="container">
                      <div class="row">
                                      <p >Copyright &copy;                    2012&#x2013;2020
                        <a href="http://www.sonatype.com">Sonatype, Inc.</a>.
            All rights reserved.    
      </p>
                </div>

                <p id="poweredBy" class="pull-right">
                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
              </p>
        
                </div>
    </footer>
        </body>
</html>
